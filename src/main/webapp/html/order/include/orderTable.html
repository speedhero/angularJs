<div class="table-responsive">
    <table ng-table="orderTableParams" id="orderTable"
           class="table-info table-condensed table-hover table-striped table table-custom">
        <thead>
        <tr class="text-center">
            <!--<th>#</th>-->
            <th>订单号</th>
            <th style="border-left:none;" class="text-left">商品明细</th>
            <th style="width:9%;">下单时间</th>
            <th>订单金额(元)</th>
            <th>当前状态</th>
            <th>配送方式</th>
            <th>操作</th>
        </tr>
        </thead>

        <tbody class="table table-condensed">
        <tr class="text-center" ng-repeat="o in $data" >
            <!--<td>
                <input type="checkbox" ng-checked="selectedItems.indexOf(o.number) > -1"
                       ng-click="toggleSelection(selectedItems,o.number);show();"
                       ng-init="selectedItemsForAll.push(o.number);">
            </td>-->
            <td style="width:150px">
                <span>
                    <a href="javascript:void(0)" title="点击查看订单详情" ng-click="checkOrderDetail(o.number);">{{o.number}}</a>
                </span>
            </td>
            <td class="text-left" style="border-left:none;position: relative;">
                    <ul class="list-unstyled">
                        <li ng-repeat="item in o.orderSkuVOs">
                        <!--<br>-->
                        <!--<img ng-src="{{item.image}}" style="width:100px;height:100px;float:left;margin-right:12px;">-->
                            <div ng-show="isShowOtherSkus(o,$index);" style="padding-top:6px;padding-bottom: 6px;">
                                <a  target="_blank" ng-href="http://item.feifei.com/{{item.skuNumber}}.html">
                                    <b class="ng-binding">{{item.skuName}}</b>
                                </a>
                                <ul class="list-unstyled">
                                    <li>SKU编号：{{item.skuNumber}}</li>
                                    <li>型号：{{item.skuCode}}</li>
                                    <li>数量：<span class="text-primary">{{item.skuQuantity}}</span></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                    <div ng-if="o.orderSkuVOs.length > 1" style="position: absolute;bottom:10px;right:18px;">
                        <a href="" ng-click="showOtherSkus(o)" ng-if="!isShowOtherSkus(o)"><i class="fa fa-caret-down"></i>显示全部商品</a>
                        <a href="" ng-click="hideOtherSkus(o)" ng-if="isShowOtherSkus(o)"><i class="fa fa-caret-up"></i>隐藏其他商品</a>
                        (共{{o.orderSkuVOs.length}}个)
                    </div>
                </td>

                <td style="width:150px">
                    <span>{{o.orderTime | date:'yyyy-MM-dd HH:mm'}}</span>
                </td>
                <td style="width:120px">
                    <span >{{o.totalAmount | currency:"￥"}}</span>
                    <!-- <span ng-hide="p.skuDiscountPrice > 0 ">{{p.skuPrice}}<br></span>
                    <del ng-show="p.skuDiscountPrice > 0">{{p.skuPrice}}<br></del>
                    <span ng-show="p.skuDiscountPrice > 0">{{p.skuDiscountPrice}}</span> -->
                </td>
                <td style="width:150px"
                    ng-class="{'bg-danger':(o.statusInfo-o.orderTime)/3600000 > 48,'bg-warning':(o.statusInfo-o.orderTime)/3600000 > 24 && (o.statusInfo-o.orderTime)/3600000 <= 48}">
                    <p>
                        <strong>
                        	<span ng-if="o.status ==10">已提交</span>
                            <span ng-if="o.status >=20 && o.status<60">待发货</span>
                            <span ng-if="o.status == 60">配送中</span>
                            <span ng-if="o.status == 70">交易完成</span>
                            <span ng-if="o.status == 120">订单取消</span>
                        </strong>
                    </p>
                    <p ng-if="o.flagGather == true">
                        <span  style="color:red" id="refundSpan{{$index}}" data-placement="top" data-container="body"
                           data-toggle="popover"   ng-mouseenter="openRefundPop($index)" ng-mouseleave="closeRefundPop($index)"   data-content="
                            请及时去售后退款模块处理退款申请">(买家已申请退款)</span>
                        <!--<a href="javascript:void(0)" ng-click="toRefundDetail();"  ngMouseenter="open()" >详情</a>-->
                    </p>
                    <p ng-show="currentTab==1">
                        <span>
                          <strong ng-if="o.statusInfo">最迟发货</strong><br>
                          <span ng-class="{'text-danger':(o.statusInfo-o.orderTime)/3600000 > 48}">{{o.statusInfo}}</span>
                        </span>
                    </p>
                    <p ng-if="o.status === 60">
                        <a href="" ng-click="getDistributingDetail(o.number)"  id="distributingDetailBtn-{{o.number}}"
                            placement="bottom" maxwidth="400">详情</a>
                    </p>
            </td>
            <td  style="width:100px;">
                <span>{{o.orderDelivers[0].carrier}}</span>
            </td>
            <td style="width:120px;">
                <div class="btn-group-vertical">
                    <button type="button" class="btn btn-default"
                            ng-click="checkOrderDetail(o.number);">
                        查看详情
                    </button>

                    <button type="button" ng-if="(o.hasInvoice == 1) && (currentTab==1 || (currentTab==4 && o.status>=20 && o.status<60))"
                            class="btn btn-default" id="billInfoBtn-{{o.orderId}}"
                            ng-click="getBillInfo(o.orderId)" title="发票信息"
                            placement="left" maxwidth="400">
                        发票信息
                    </button>

                    <a class="btn btn-default"
                       ng-if="o.flagGather == false && (currentTab==1 || (currentTab==4 && o.status>=20 && o.status<60))"
                       ng-href='/#/printDelivery?orderNumbers={{o.orderShipmentNumber}}' target="_blank">
                        打印清单
                    </a>

                    <button type="button" ng-if="o.flagGather == false && (currentTab==1 || (currentTab==4 && o.status>=20 && o.status<60))"
                            class="btn btn-default"
                            data-toggle="modal" data-target="#myModal"
                            ng-click="openDeliverModal(o.orderShipmentNumber,o.status,o.number)">
                        &nbsp;发&nbsp;&nbsp;&nbsp;&nbsp;货&nbsp;&nbsp;
                    </button>
                </div>

            </td>
        </tr>
        </tbody>
    </table>
</div>
</div>

